## Aspen Discovery Updates
### Aspen LiDA Setting Updates
- Allow 3 different styles of loading messages to be used for Branded App Settings: 'Show library facts', 'Show step being performed', 'Show random loading message'. (DIS-728) (*MDN*)
- Allow custom messages to be defined for each Branded App Setting. (DIS-728) (*MDN*)

<div markdown="1" class="settings">

#### New Settings
- Aspen LiDA > Branded App Settings > Loading Messages > Loading Message Type
- Aspen LiDA > Branded App Settings > Loading Messages > Loading Messages

</div>

### API Updates
- Return Aspen Native Events when calling getSavedEvents from the Events API. (DIS-707) (*MDN*)
- Use the patron's preferred language for translations if no language parameter is provided for API calls. (DIS-724) (*MDN*) 
- When fetching linked accounts, load expiration dates only rather than the entire account profile. (DIS-726) (*MDN*)
- Optimize getApiInfo for libraries to not lookup theme information twice and not include palace project classes unnecessarily. (DIS-727) (*MDN*)
- Return loading message type and custom loading message as applicable as part of getAppSettings. (DIS-728) (*MDN*)
- If the user has not supplied a latitude and longitude, return 0 as the distance from all libraries as part of the getLibraries and getLibrary API calls in GreenhouseAPI. (DIS-729) (*MDN*)
- renewItem route in UserAPI updated to check for the interLibraryLoanName from settings as a potential source

### Audience Display
#### Public
- When viewing search results, patrons are immediately informed of a record’s target audience, without needing to select the ‘More Details’ Options. (DIS-446) (*CZ*)
- When accessing the Full View page of a given Record or Grouped Work, the target audience information is immediately visible to patrons as well. (DIS-446) (*CZ*)
- In general, when viewing a Grouped Work, patrons now see the ‘Audience’ field value if and only if the Audience of each record matches each other. (DIS-446) (*CZ*)
- If the audiences of each relevant record do not match, the following message is displayed: “varies, see individual formats and editions”. (DIS-446) (*CZ*)
- So that patrons are not be misled into believing that a given record has a target audience it does not, if there is one or more records for which no 521 a MARC field is set, then the ‘Audience’ field on the Grouped work displays “varies, see individual formats and editions”. (DIS-446) (*CZ*)
#### Staff
- Administrators with the right permissions can enable the target audience section to be displayed. (DIS-446) (*CZ*)

### Boundless Updates
- Allow the Boundless Indexer to process multiple settings in parallel. (DIS-693) (*MDN*)
- Properly retry Boundless API calls and do not log errors during before all retries complete. (DIS-693) (*MDN*)
- Add a name for Boundless Settings to more easily identify them when a site has many different collections. (DIS-686) (*MDN*)
- Allow the Boundless Indexing Log to be filtered by Setting ID. (DIS-684) (*MDN*)

<div markdown="1" class="settings">

#### New Settings
- System Administration > System Variables > Indexing Settings> Number of Boundless Settings to process in parallel

</div>

### Browse Categories Updates
- Fixed an issue where expired subcategories briefly showed up on the homepage when you opened it, as they were loaded first and removed a moment later by JavaScript. (DIS-332) (*LS*)

### Carl.X Updates
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)

## CloudLibrary Updates
- Fixed incorrectly displaying successful checkout when checkout limit in CloudLibrary had been reached. (DIS-593) (*IT*)

### Community Engagement Updates
- Added the option of hiding the reward name on user campaign pages for digital rewards. (DIS-352) (*AB*)
- Added a dashboard to the Community Engagement module with the ability to download data about patron engagement. (DIS-352) (*AB*)
- Added a manual milestone type that has the option of allowing users to add their own progress and allows library staff to add their own progress. (DIS-352) (*AB*)
- Added an optional enrollment period to campaigns and prevented enroll buttons from displaying outside of these dates. (DIS-352) (*AB*)
- Added a landing page for each campaign that can be reached by admin for enrollment purposes. (DIS-352) (*AB*)
- Added the ability for users to opt in or out of email notifications about campaigns. Overall opt in My Preferences and a per campaign opt in on the campaign table. (DIS-352) (*AB*)
- Added the ability to send an email when a user completes a campaign to a staff configured email address in Library Systems->Community Engagement. (DIS-352) (*AB*)
- Added email templates for campaign completion, campaign start and end, enrollment, milestone completion and a staff alert of campaign completion. (DIS-352) (*AB*)
- Added the ability to share digital rewards on social media (DIS-352) (*AB*)
- Added the option to set digital rewards to be automatically rewarded on milestone completion (DIS-352) (*AB*)
- Added a leaderboard that can be viewed by user or by branch - configurable in Library Systems->Community Engagement - that is editable in Grapes JS (DIS-352) (*AB*)
- Added the ability to opt in and out of appearing on campaign leaderboards when the library is displaying leaderboards by user. (DIS-352) (*AB*)
- Added the ability to see the campaigns of linked users. (DIS-352) (*AB)
- Fixed the reward given check so that campaign and milestone rewards awarded manually have the abililty to share on social meida. (DIS-696) (*AB*)
- Updated logic so that the order of milestones in the UI for each campaign reflects the order users set in the campaign object. (DIS-607) (*AB*)
- Added the required attribute to the reward for completing a campaign on the campaign object to prevent attempts at saving without this field. (DIS-605) (*AB*)
- Add the option to highlight campaigns in the account area by adding a toggle in the Basic Display Settings. (DIS-632) (*AB*)
- Added a weight column to the campaign milestone table to allow sorting in the Bento box to remain on save. (DIS-606) (*AB*)
- Updated the completed milestone count to enusre it includes those completed beyond 100%. (DIS-352) (*AB*)

### Cover Images Updates
- Force reloads on book and list covers when no source is provided, ensuring up-to-date images are shown. (DIS-690) (*LS*)

### Docker Updates
- The paths of both solr and tunnel Dockerfiles have been updated in the gitlab-ci.yml (DIS-629) (*LM*)
- Make the backend wait for the database service between sudden restarts. (DIS-713) (*LM*)
- Make data persist correctly between restarts and recreate symbolic links. (DIS-710) (*LM*)

### eCommerce Updates
- Add patron first/last name, barcode, username information to the PayPal Payflow transaction. (DIS-680) (*YL*)
- Round the amount to pay for fines to 2 decimal places to prevent issues with floating point precision. (DIS-640) (*YL*)
#### HeyCentric integration
##### Public
- Having selected the debts that patrons wish to settle while on the MyAccount / Fines page, patrons can click the ‘Click to Pay Fines Online’ button which takes them to the HeyCentric payment platform. (DIS-76) (*CZ*)
- When landing on the HeyCentric payment platform, patrons see the amount they selected to pay while on Aspen to be reflected on the payment form. (DIS-76) (*CZ*)
- If patrons are making a payment for more containing more than one line, each of these are display, as well as the total amount. (DIS-76) (*CZ*)
- After completing their payment attempt on HeyCentric, patrons are redirected to Aspen Discovery and land on the MyAccount / Fines page. (DIS-76) (*CZ*)
- Upon landing on the MyAccount / Fines page, patrons see a message letting them know whether their payment attempt was successful (approved) or not (declined). (DIS-76) (*CZ*)
- If a patron had cancelled their payment attempt while on the HeyCentric platform, they see a message confirming that their payment was cancelled. (DIS-76) (*CZ*)
- Additionally, if a payment was successful, the relevant fines or debts are updated in the ILS and the MyAccount / Fines page in Aspen is reloaded to reflect this. (DIS-76) (*CZ*)
##### Staff
- Administrators can set permissions to manage HeyCentric settings at the system level. (DIS-76) (*CZ*)
- Administrators with the right permissions can:
  - manage HeyCentric settings and assign them to libraries. (DIS-76) (*CZ*)
  - select which settings fields are to be included when generating the hash. (DIS-76) (*CZ*)
  - select which settings fields are to be included when generating the payment URL. (DIS-76) (*CZ*)
  - see if Aspen will assign a value to a URL parameter by default by consulting the tooltip for the 'Value to assign to this URL parameter if known' setting. (DIS-76) (*CZ*)
  - set a specific value to be assigned a given URL parameter based on the active HeyCentric setting. (DIS-76) (*CZ*)
  - assign the values stored in a specific Koha ILS database and fields to a given URL parameter, including additional fields. (DIS-76) (*CZ*)

### Evergreen Updates
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)

### Events Updates
- When event types are deleted, clear all libraries and locations for them. (DIS-695) (*MDN*)
- When checking if an event type is archived, handle deleted event types. (DIS-695) (*MDN*)
- Ensured the Springshare LibCal event indexer updates existing events when reprocessing deleted events, avoiding duplicate‑entry SQL errors. (DIS-705) (*LS*)
- Enhanced the Events Indexing Log page by adding standard filtering controls (e.g., "Min Processed," "Show Errors Only") and refactoring the underlying code for consistency with other administrative log pages. (DIS-706) (*LS*)

### Holds Updates
- Fix invisible-to-user AJAX error when 'volume' not present in hold request. (*JStaub*)

### Indexing Profile Updates
- When adding a new Indexing Profile, the "Name" field has been changed to a dropdown of Account Profile options. (DIS-678) (*LS*)
- Users may no longer create an Indexing Profile before at least one, valid ILS Account Profile exists. (DIS-678) (*LS*)

### IP Address Updates
- The `ip_lookup` table now supports IPv6 addresses, allowing administrators to manage access rules for IPv6 clients. (DIS-396) (*LS*)
- API access can now be controlled for IPv6 addresses, enabling Aspen to work properly behind CloudFlare and other IPv6-enabled proxies. (DIS-396) (*LS*)
- Implemented validation for IPv6 addresses and ranges; there is currently no support for IPv6 subnets. (DIS-396) (*LS*)
- Administrators can specify IPv6 address ranges using dash notation (e.g., 2001:db8::1-2001:db8::ff) to efficiently manage blocks of IPv6 addresses. (DIS-396) (*LS*)
- Addressed an issue where CloudFlare's use of IPv6 was causing the Library App to be blocked from accessing the Aspen API. (DIS-396) (*LS*)

### Koha Updates
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)
- Enhanced patron type importation to automatically set the account profile of the new patron type based on the existing indexing profile. (DIS-634) (*LS*)
  - If no account profile is found with the `name` set in the Indexing Profile, the patron type will not be imported, and an error will be logged in the Indexing Logs. (DIS-634) (*LS*)
- Fixed failed user object insertions into the DB when accounts were automatically registered with Koha during SSO. (DIS-662) (*LS*)
- Corrected an issue where Aspen might not assign the right purchase suggestion permissions if Koha patron category names were similar (e.g., 'FRIEND' and 'NUFRIEND'). (DIS-495) (*LS*)
- Improve error handling so that informative error messages are displayed to the user on page load for MyAccount/MyPrivacySettings. (DIS-645) (*CZ*)

### Library Card Updates
- Added the option to display a patron's type under the barcode and expiration date. (DIS-435) (*LS*)

### MARC Record Display 
- Update MARC record display to preserve the order of subfields within the display rather than displaying subfields alphabetically. (DIS-626) (*MDN*)
- Do not display "--" separators within table of contents to improve the layout. (DIS-665) (*MDN*)
- Separate subfields within the 245 with spaces to match cataloging conventions. (DIS-666) (*MDN*)
- For subject fields, only add "--" separators before subfields x, y, z, and v. (DIS-667) (*MDN*)

### Messages Settings Updates
- Fixed an issue where error and success messages were not displaying when modifying Messages Settings. (DIS-719) (*LS*)
- Added error messages relating to SSO and new-user behavior when attempting to modify Messages Settings. (DIS-719) (*LS*)

### My Account Updates
- Add action bar to the top of Holds sections (except available) (DIS-598) (*JStaub*)
- Added the ability to filter checked out items by linked user. (DIS-313) (*AB*)
- Added the ability to be able to export only selected checkouts to CSV. (DIS-313) (*AB*)
- Added toggles in Library Systems, ILS/ Account Integration to allow libraries to control use of these features (DIS-313) (*AB*)

### New York Times Updates
- Correctly load titles from the New York Times API if the ISBN is only provided within book details and not the ISBNs array. (DIS-733) (*MDN*)

### Open Archives Updates
- Ensure records with permanent URLs longer that 512 characters are indexed, and do not cause indexing errors. (DIS-681) (*CZ*)

### Palace Project Updates
- Add a field to store the palace project library id in Library systems for patron circulations. (DIS-703) (*YL*)

<div markdown="1" class="settings">

#### New Settings
- Library Settings > Palace Project > Palace Project Library ID

</div>

### Polaris Updates
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)
- Corrected item‑level holds in the Polaris ILS driver to locate variation‑specific item barcodes and volume numbers properly. (DIS-692) (*LS*)

### Privacy Settings Updates
- When launching the /MyAccount/MyPrivacySettings page, if the current action is ‘save’, return immediately after the redirect to prevent unecessart methods being called and errors being generated. (*CZ*)

<<<<<<< HEAD
### Search Updates
- Update the "Appears on these lists" section within search results to only show lists based on the Public Lists to Include setting for the active library or location. (DIS-490) (*MDN*)
- Update the "Appears on these lists" section within search results to show lists created at the active library before other lists. (DIS-490) (*MDN*)

### Series Updates
- Fix problems with deleting series. Deleting a series will also delete series members. Reindexing will not add series members to deleted series or create duplicate series.  (DIS-188) (*KP*)
- If a title belongs to multiple series, show them all, not just the first one. (DIS-188) (*KP*)
- Fix a bug where duplicate series members were being created if a title had multiple volume numbers in the same series. (DIS-188) (*KP*)
- Fix a bug that created orphaned series titles if the original record was modified or removed. (DIS-188) (*KP*)
- Remove existing duplicate series titles (DIS-188) (*KP*)
- Trim author for a series to 500 characters if it exceeds that length. (DIS-664) (*MDN*)

### Side Loads Updates
- Updated the "Usage Dashboard" breadcrumb link to point to the correct path. (DIS-679) (*LS*)
- Filtered "Records Accessed Online" usage graphs to display data specific to each side load. (DIS-679) (*LS*)

### Sierra Updates
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)
- Add more flexible address state and zip format parsing for Sierra Patrons Contact Information. (DIS-540) (*YL*)
- Update the User-Agent header to identify Aspen Discovery in Sierra API requests. (DIS-635) (*YL*)

### SSO Updates
- Fixed an issue where users were not properly redirected back to the page they were viewing before a successful SSO. (DIS-631) (*LS*)
- Enhanced session handling to maintain state during AJAX operations when setting return-to locations. (DIS-631) (*LS*)
- Improved SSO redirect behavior to preserve the exact search parameters and page position when logging in from search results. (DIS-631) (*LS*)

### Symphony Updates
- Return title and due date for titles checked out via Scan and Go for LiDA. (DIS-420) (*MDN*)
- Load expiration date independently of the rest of the account summary. (DIS-726) (*MDN*)

### Syndetics Updates
- The Syndetics Key field will no longer be hidden under a Syndetics Setting when Syndetics Unbound is enabled; they key is required for cover images. (DIS-675) (*LS*)

### Talpa Updates
- Prevent bots from indexing Talpa data (DIS-722) (*MDN*)
- Correct debug error in the sidebar if tryThisSearchInTalpaSidebarSwitch is disabled. (DIS-722) (*MDN*)
- Add talpa.less file to automatically incorporate talpa css in main css file. (DIS-722) (*MDN*)

### Themes Updates
- Resolved an issue where placard images were sometimes cut off and did not fill their designated space in terms of height. (DIS-699) (*LS*)
- Added a new theme setting under "Placards" in the Theme editor, allowing users to optionally set a maximum display height (in pixels) for placard images. (DIS-699) (*LS*)
- The theme edit page now hides the current theme from the "Extends Theme" dropdown to prevent selecting itself. (DIS-653) (*LS*)
- Themes can no longer be saved with invalid parent themes; self-references and missing parent themes are automatically cleared. (DIS-653) (*LS*)

### User List Search Updates
- Correct sorting by date added and date updated in descending orders. (DIS-136) (*MDN*)

### User Lists Updates
- Corrected an issue where public user lists created by certain users were not appearing in search results, even when marked as searchable. These lists will now be indexed correctly based on system settings. (DIS-697) (*LS*)
- Set hostname used when fetching records for a given list to the solrhost defined in config or default to 'solr' to prevent indexingerrors and ensure lists are made searchable successfully. (DIS-730) (*CZ*)

### Web Builder Updates
- Increased the maximum length allowed for options in "Select List" fields, enabling the use of longer values. (DIS-671) (*LS*)
- Improved the admin interface for "Select List" fields by making the input box for options larger and automatically resizing it to fit the content. (DIS-671) (*LS*)

### Other Updates
- Display full title as alt text and title for the image within browse category results and for the grid view. (DIS-663) (*MDN*)
- Update so LiDA release notes are loaded dynamically from github. (DIS-501) (*MDN*)
- Correct debug error trying to render RSS Link when no results are found. (DIS-721) (*MDN*)
- Add a redirect button for A to Z web resources on the default Research & Learn page (DIS-336) (*KL*)
- Updated logic to ensure publication details, editions, and ISBNs/ISSNs display correctly under "More Details" when they are not set to be displayed in the top detail section. (DIS-622) (*LS*)
- Changed `.browse-thumbnail` CSS rule from `display: inline-block` to `display: block` to properly align items within the grid without affecting masonry layouts. (DIS-114, DIS-741) (*LS*)
- Added existence check for `'patronIdCheck'` when editing an object. (DIS-648) (*LS*)
- Fixed duplicate alert boxes on the SSO Settings page. (DIS-652) (*LS*)
- Ensured physical descriptions containing abbreviations of "p." display correctly without unintended word changes (e.g., "strap." no longer becomes "strapages."). (DIS-694) (*LS*)
- Added edit-pencil icon for the Browse Category Groups table in the admin interface. (DIS-78) (*LS*)
- Included options to add both Bluesky and Threads URL links within Contact Links. (DIS-458) (*LE*)
- Prevent errors being displayed to the user: prevent 'PUT' requests being sent instead 'GET' requests by adding a method allowing to reset the CURLOPT_CUSTOMREQUEST option to the CurlWrapper class. (DIS-644) (*CZ*)
- Add an option to enable forced debugging of eCommerce application responses from any IP address. (DIS-416) (*LM*)

<div markdown="1" class="settings">

#### New Settings
- System Administration > System Variables > LiDA GitHub Repository URL

</div>

## This release includes code contributions from
### ByWater Solutions
- Leo Stoyanov (LS)
- Yanjun Li (YL)
- Imani Thomas (IT)
- Ian Walls (IW)
- Laura Escamilla (LE)

### Grove For Libraries
- Mark Noble (MDN)
- Katherine Perdue (KP)
- Kodi Lein (KL)

### Nashville Public Library
- James Staub (JStaub)

### Open Fifth
- Alexander Blanchard (AB)
- Chloe Zermatten (CZ)

### Theke Solutions
- Lucas Montoya (LM)

## Special Testing thanks to
- Myranda Fuentes (Grove)
- Jordan Fields (Grove)
- Mark Noble (Grove)

## Special Documentation thanks to
- Myranda Fuentes (Grove)
- Jordan Fields (Grove)

## This release includes sponsored developments from
- Minuteman Library Network
- SWAN Library Network
- CLEVNET Library Cooperation