## Aspen Discovery Updates
// mark
### Administration Updates
- Allow the admin sidebar to be expanded and collapsed to be able to better view the contents of a page. (DIS-848) (*MDN*, *LS*)
- If a value for an enum has been filtered from the list of allowable values, display the value from allValues if applicable. (DIS-811) (*MDN*)
- Update clearOneToManySettings and saveOneToManySettings to optionally handle a list of allowable values to better handle cases where what an administrator can edit is restricted by permission. (DIS-812) (*MDN*)
- Update Grouped Work Display Settings to use the new methods for clearOneToManySettings and saveOneToManySettings to ensure that an administrator does not change the linked libraries and locations if they do not have permission. (DIS-812) (*MDN*) 
- Remove delete button from Object Editor if the active user cannot delete the selected object. (DIS-845) (*MDN*)
- If the selected value of an enum value is not valid for the current user, but is part of allValues, ensure it is shown. (DIS-846) (*MDN*)
- When updating objects, ensure read-only fields that are made read-only when the object structure is modified for the active object are not changed. (DIS-847) (*MDN*)
- Properly apply class for additional list actions. (DIS-759) (*MDN*)

### API Updates
- Correct the order of list results when loading the initial results for a browse category that is based on a list to respect the default sort order. (DIS-905) (*MDN*) 
- Correct the order of list results when viewing a list to respect the default sort order when viewing the list from a browse category. (DIS-905)) (*MDN*)

### CloudLibrary Updates
- Add a name for CloudLibrary Settings and allow the indexing log to be filtered by setting. (DIS-854) (*MDN*)

### Indexing Updates
- When re-grouping Boundless records, generate a note in the log rather than an error if the record has been deleted. (DIS-769) (*MDN*)

### Install Updates
- Make it easier to create new Carl.X sites by creating account profiles and indexing profiles from createSite.php. (DIS-897) (*MDN*)

### Materials Requests Updates
- Add Assigned To as a default field within Materials Requests when updating requests. (DIS-802) (*MDN*)
- Add checking to ensure that at least one status, assignee, and format is selected when filtering requests. (DIS-801) (*MDN*)

### OverDrive Updates
- When determining if an OverDrive title has a format of eComic, keep it as an eBook if the Edition is 'Light Novel.' (DIS-839) (*MDN*) 

### Record Display Updates
- Strip trailing commas and periods after dates from author names to improve display and searching for authors. (DIS-904) (*MDN*)

### Search Updates
- Properly handled parentheses in author names I.e. "Lewis, C. S. (Clive Staples)" especially when quoted, but also unquoted. (DIS-904) (*MDN*) 
- Escape additional special characters (+ - ! ( ) { } [ ] ^ ~ ? / \) for solr. (DIS-904) (*MDN*)
- When doing an exact match for author names, also check left anchored author names to better match expectations that "Lewis, C. S." will match "Lewis, C. S. (Clive Staples)". (DIS-904) (*MDN*)

### Series Updates
- Properly handle Display Info set for a Grouped work with the series module. Display Info now saves before saving the series data. (DIS-787) (*MDN*)
- Cleanup old orphaned series members where the grouped work for the member no longer has records for it. (DIS-794)

### Side Load Updates
- When creating a side load, the MARC Path and Record URL Component will be automatically generated. (DIS-506) (*MDN*)
- When creating a side load, fields that are only relevant to existing side loads will be hidden. (DIS-506) (*MDN*)
- When deleting a side load, all scopes for the side load will be properly deleted. (DIS-506) (*MDN*)

### Sierra Updates
- Improve the speed of loading the patron account summary. (DIS-764) (*MDN*)

### Symphony Updates
- Add a new Status Alt Item Field that can be used with Symphony to determine status. (DIS-858) (*MDN*)
- Update status table to determine if rows should be used for the status field, status alt field, or both. (DIS-858) (*MDN*)
- Update indexing to process the status alt field prior to looking at the standard rules if the status alt field is configured. (DIS-858) (*MDN*)
- Store barcode and username separately when logging in to Symphony systems so barcodes can be displayed properly in LiDA and Discovery. (DIS-867) (*MDN*)

<div markdown="1" class="settings">

#### New Settings
- ILS Integration > Indexing Profiles > Item Record Mapping > Status - Alternate
- ILS Integration > Indexing Profiles > Status Mappings > Applies To Status Subfield
- ILS Integration > Indexing Profiles > Status Mappings > Applies To Status-Alt Subfield
</div>

### Theme Updates
- Add the option to upload a custom image for series results in Explore More. (DIS-892) (*MAF*)

### User List Updates
- When bulk adding to a list, do not add duplicates of titles that are already on the list. (DIS-770) (*MDN*) 

### Other Updates
- Instruct robots not to index bookcover.php. (DIS-783) (*MDN*)
- Correct issues with sorting lists of objects within administration when the sort method includes a +. (DIS-788) (*MDN*)
- When changing the sort method, return the user to the first page of results. (DIS-788) (*MDN*)
- Change default value for Include Holdable Only to false when adding to the database. (DIS-807) (*MDN*) 
- Relabel Pickup Location to Pickup Area within My Preferences. (DIS-526) (*MDN*)
- Output logging level for individual log entries to messages.log during logging. (DIS-898) (*MDN*)
- Correct LibKey notice when viewing an individual record where the URL is not in LibKey. (DIS-918) (*MDN*)

// katherine
### API Updates
- Add keyboard type options for barcode entry to Aspen LiDA self check settings and update SystemAPI:getSelfCheckSettings to return the new setting.(DIS-773) (*KP*)

### Series Updates
- Fix bugs related to series improperly being deleted and deleted series persisting in the Solr index. This will trigger a full update of the series index.  (DIS-188) (*KP*) 

### Sierra Updates
- Allow holds to be sorted by date placed. (DIS-720) (*KP*)

// kirstien
### Account Updates
- The last used sort method for checkouts, available holds, and unavailable holds will now be remembered and preferred
  when viewing holds and checkouts. (DIS-800) (*KK*)

// kodi
### Side Load Updates
- Added an option for home library side load administration including sharing options and the owning library for side load collections (DIS-560) (*KL*, *MDN*)
  - Users with reduced permissions will only be able to see and edit side loads owned by their library or shared with their library. 
  - Users with reduced permissions will not be able to edit side load information for side loads that are shared with them, but only editable by other libraries. 
  - Users with reduced permissions will not be able to upload MARC records for side loads that are shared with them, but only editable by other libraries.
  - Users with the ability to administer scopes for their home library will be able to see all side loads their home library can see and edit, but will not be able to edit any.
  - Side loads will now need to have unique names based on the combination of name and the owning library (allows multiple Kanopy side loads for different libraries).
  - Users with reduced permissions cannot create side loads that are valid for All Libraries or share side loads with all libraries. 
  - When creating a side load, the MARC Path and Record URL Component will be automatically generated.

<div markdown="1" class="settings">

#### New Permissions
- Administer Side Loads for Home Library - Allows the user to administer side loads for their home library only.
- Administer Side Load Scopes for Home Library - Allows the user to administer side load scopes for their home library only.

#### New Settings
- Side Load Collections > Owning Library
- Side Load Collections > Sharing

</div>

### CarlX Updates
- Call number will now show for items in the user's "Checked Out" section for CarlX (DIS-781) (*KL*)

### Indexing Updates
- Conjunctions with apostrophes will now have the apostrophe removed for shortTitle when it gets added to the keywords index and for groupingTitle. (DIS-782) (*KL*)

### Searching Updates
- To better handle searching words with apostrophe's (i.e. don't vs dont) the solr class for synonyms has been enabled and synonyms.txt updated (DIS-782) (*KL*)

### Masquerade Mode Updates
- Fix issue where if a user has "Masquerade as unrestricted patron types" and a permission that allows them to masquerade as restricted patron types in their home library or location, they were not able to masquerade as these restricted patrons. (DIS-820) (*KL*)

### Materials Requests Updates
- Update managing/editing requests as an admin so both status and assignee can be updated at the same time (DIS-802) (*KL*)
  - Add "Assigned To" as an editable field when updating a single materials request as an admin
  - On Manage Materials Requests page, remove separate buttons for changing status/assignee and replace with a single button labeled "Update Selected Requests"
- Remove both created/updated successfully pages for materials requests and instead redirect to the appropriate /MyRequests or /ManageRequests page (DIS-806) (*KL*)
- Added functionality for sticky filters for admins managing materials requests (DIS-801) (*KL*)

// kyle
### Installer Updates
- Fix script to update session.gc_probability. Update the script to dynamically determine the current PHP version, ensuring compatibility with the PHP version installed on the system. (*KMH*)

// ian

// imani
### Evergreen updates
- pull title and body for evergreen copy notes (DIS-360) (*IT*)
- add space between notes in case of multiple notes per copy (DIS-360) (*IT*)

### Koha Updates
- getRenewErrorMessage returns the original code from Koha in addition to the "Unkown error" message when receiving unexpected error codes.
- If no branchcode passed up to selfRegistration use ilsCode or if not available use getMainLocation() from our default library to grab a branchcode if no main location or ilsCode then we give an error before trying to hit koha's servers(DIS-698) (*IT*)

// leo
### Assabet Events Updates
- Fixed an issue with the Assabet Events indexer where events with multiple age categories were not always correctly faceted in Aspen; all relevant age categories are now indexed. (DIS-855) (*LS*)

### CloudLibrary Updates
- Fixed an issue where CloudLibrary titles could disappear from the catalog after being manually grouped/ungrouped or from full regrouping. (DIS-307) (*LS*)
- Added the ability to extract single CloudLibrary records from the CLI. (DIS-307) (*LS*)
- Implemented logging of the number of works regrouped during a CloudLibrary extraction on the CloudLibrary Export Log page. (DIS-307) (*LS*)

### Cover Images Updates
- Fixed an issue where cover images would not display correctly for user lists that contained other lists. (DIS-601) (*LS*)
- Improved the appearance of cover images for lists containing other lists, making them easier to see and understand. (DIS-601) (*LS*)

### Palace Project Updates
- Palace Project titles will now display the correct language more reliably, so language filters and searches better match the actual content. (DIS-752) (*LS*)

### Koha Updates
- Resolved an issue that could prevent users with expired passwords from successfully resetting their password when prompted on the login screen. (DIS-744) (*LS*)
- Patrons’ reading histories now update correctly each night, ensuring their recent check-outs and returns are always recorded, even if they haven’t signed in daily. (DIS-768) (*LS*)
- The navigation bar now immediately reflects the patron's updated display name after saving Contact Information. (DIS-866) (*LS*)
- Fixed PHP warnings in the Koha driver when fetching empty extended attributes on the Contact Information page. (DIS-866) (*LS*)
- Added the Prioritize Available Records for Title Selection option to the Indexing Profile. (DIS-493) (*LS*)
  - If the above option is enabled, titles from available records will be prioritized as the display title for their grouped work. (DIS-493) (*LS*)

<div markdown="1" class="settings">

#### New Settings
- ILS Integration > Indexing Profiles > Format Information > Prioritize Available Records for Title Selection
</div>

### User List Updates
- Enhanced list printing to ensure the list's title is clearly displayed on the printout. (DIS-786) (*LS*)
- Added the option for users to choose to print lists with or without descriptions. (DIS-786) (*LS*)
- Fixed an issue where printing lists in landscape mode would only print the first page; all items will now be included across multiple pages as needed. (DIS-786) (*LS*)

### Searching Updates
- Added an 'X' button inside the search box to easily clear entered text; the button appears automatically when text is present. (DIS-778, DIS-852) (*LS*)
- When a catalog search doesn't match any results, there will be a message explaining that it's displaying results for a similar term, with a link to retry the original search if preferred. (DIS-792) (*LS*)
- Resolved an issue where search terms were not being indexed correctly and causing unexpected results when using Advanced Search. (DIS-755) (*LS*)
- Added a dedicated "In Processing" option within the "Added in the Last" facet group. (DIS-834) (*LS*)
- Extended the indexing logic in `GroupedWorkSolr2` to use an item’s grouped status (e.g., "On Order," "In Processing," "Under Consideration") for building all related facets, no longer relying solely on the detailed status. (DIS-834) (*LS*)

### SpringShare LibCal Updates
- Strip trailing whitespace and punctuation from JSON‐sourced fields to allow for proper facet searching. (DIS-857) (*LS*)

### Web Builder Updates
- Added configuration to the "Library Hours and Locations" cell to always display a specific library's information if a location is selected under the new "Static Location" dropdown on the Portal Cells page. (DIS-849) (*LS*)

### Other Updates
- Resolved a JavaScript loading issue by reordering script tags to ensure `tinymce.min.js` loads before plugins. (DIS-592) (*LS*) 
- Removed unused script references from `shareForm.tpl` and corrected the emoji plugin path to prevent 404 errors. (DIS-592) (*LS*)
- Fixed a typo in `Theme.php` where the default key for `primaryButtonHoverBorderColor` was incorrectly set as 'primary' instead of 'default'. (DIS-592) (*LS*)
- Discontinued use of TinyMCE's deprecated spellchecker plugin and enabled native browser spellcheck. (DIS-588) (*LS*)
- List entries will no longer occasionally display confusing PHP warnings or broken layouts. (DIS-789) (*LS*)
- Manual Grouping Authorities and Author Authorities now list the most recently added entries first by default. (DIS-815) (*LS*)
- Increase the maximum character limit for "Collection Codes to Exclude". (DIS-841) (*LS*)
- Added guards and default filters across multiple Smarty templates to eliminate PHP notices for undefined keys and properties. (DIS-842) (*LS*)
- Updated `formattedTitle.tpl` and `formattedHorizontalCarouselTitle.tpl` to pass required variables, fixing missing-data issues in horizontal and carousel spotlights. (DIS-842) (*LS*)
- Corrected logic in `RecordGroupingProcessor.java` to truncate any generated grouped-work title to a maximum of 500 characters. (DIS-810) (*LS*)
- Fixed a Java compilation issue caused by ambiguity between `org.marc4j.marc.Record` and the new `java.lang.Record` class in Java 14+. (DIS-808) (*LS*)
- Improved the admin settings search from the sidebar to include all menu items. (DIS-900) (*LS*)
- Titles without any holds will no longer display the number of available copies when their only copies are On Order, unless the “Show Hold and Copy Counts” setting is set to "For available and unavailable titles with and without holds." (DIS-893) (*LS*)
- Fixed an issue where the "copies available" number showed total copies instead of true on-shelf availability. (DIS-891) (*LS*)
- Corrected a double-counting error that had locally-owned and library-owned copies counted twice towards the total number of available copies. (DIS-891) (*LS*)
- Reset all Self Registration form fields when the page is restored from history to protect patron information. (DIS-865) (*LS*)
- Fixed a bug in administrative forms, specifically the Special Fields for Format of Material Request Formats configuration, where multi-select fields displayed as a list of checkboxes failed to correctly display current selections or subsequent changes. (DIS-864) (*LS*)
- Allow users to upload GIFs. (DIS-870) (*LS*)

### Interface Updates
- Added front-end validation for fields with character limits to prevent users from inputting beyond the defined character limit. (DIS-803) (*LS*)
- Character counters display when users type in fields or interact with fields nearing their maximum length. (DIS-803) (*LS*)

### Usage by IP Address Updates
- Added pagination to improve load times. (DIS-818) (*LS*)
- Introduced a "Sort by" dropdown to sort data by any column (e.g., IP Address, Requests, Logins). (DIS-818) (*LS*)

### Usage by User Agent Updates
- Fixed pagination to work more efficiently at the database level. (DIS-818) (*LS*)
- Reduced data load by filtering stats using only relevant user agent IDs. (DIS-818) (*LS*)

### Reading History Updates
- Fixed an issue where reading history entries missing an author were being pushed to the top of the sort when sorting Reading History by author. (DIS-876) (*LS*)

### Materials Requests Updates
- If a catalog format has not been mapped to a Materials Request format under Materials Request Format Mapping, Aspen will log and skip those requests instead of erroring out. (DIS-868) (*LS*)
- The "Existing Title Found" check will only run when at least one control-number field contains valid characters: for ISBN or ISSN it must include a digit (0–9) or an uppercase "X" check-digit, and for UPC it must include at least one digit; typing only punctuation or other letters won’t trigger it. (DIS-868) (*LS*)
- ISBN and ISSN input fields immediately strip out any characters except digits (0–9) or an uppercase "X", while UPC input fields strip out any non-digit characters, to prevent accidentally typing letters or punctuation. (DIS-868) (*LS*)

### Themes Updates
- The essential default theme can no longer be deleted, as there must be at least one theme for site stability. (DIS-759) (*LS*)
- If deleting a theme would leave a library with no theme, deletion is prevented. (DIS-759) (*LS*)
- If deleting a parent theme on which other child themes depend, deletion is prevented. (DIS-759) (*LS*)
- If a theme cannot be deleted because it's actively in use, there is a clear alert after saving that explains exactly why it cannot be removed. (DIS-759) (*LS*)
- The "Delete All" button has been removed from the Themes administration page to prevent the deletion of all themes. (DIS-759) (*LS*)

### Digital Archives Updates
- Improved the OAI indexer by consolidating XML parsing logic and adding robust error handling and logging for `ListSets` failures. (DIS-832) (*LS*)

### Generated Citations Updates
- Fixed missing or extra punctuation in titles, editions, and publisher fields. (DIS-859) (*LS*)
- Cleaned up author formatting by removing full names in parentheses before abbreviating initials. (DIS-859) (*LS*)
- Updated Chicago/Turabian citations to follow the 18th edition, removing place-of-publication details. (DIS-859) (*LS*)
- Restored proper punctuation at the end of titles, adding a period only when needed. (DIS-859) (*LS*)
- Refactored internal code structure and documentation for better maintainability. (DIS-859) (*LS*)

// yanjun
### Boundless Updates
- Delete inactive Axis360 titles from database correctly. (DIS-785) (*YL*)

### Hoopla Updates
- Ensure consistent expiration display of reserved Holds Ready for Pickup for Hoopla Flex.  (DIS-872) (*YL*)
- Fix issue where libraries with Hoopla Flex turned off will see warnings in My Account if debugging on, by adding null checks to the Hoopla scope. (DIS-871) (*YL*)

### OverDrive Updates
- Fix the issue where OverDrive triggers SIP authentication when patrons log in via SSO. (DIS-909) (*YL*)

### Sierra Updates
- Allow Sierra self-registration to send a welcome email to the patron. (DIS-819) (*YL*)


// laura

// james

// alexander
### Community Engagement Updates
- Removed the default description for rewards so that users can choose to leave the display blank. (DIS-840) (*AB*)
- Added the description for campaign and milestone rewards to the advertisement page and the 'Your Campaigns' section. (DIS-840) (*AB*)
- Prevent campaign duplication by removing campaigns from the active and upcoming campaign tables when a user has enrolled. (DIS-851) (*AB*)
- Prevented user from being able to add the same milestone to a campaign multiple times by only saving the first instance and adding a note to inform users to use each milestone only once per campaign. (DIS-608) (*AB*)
- Added admin control over whether campaign leaderboard is displayed (DIS-836) (*AB*)
- If a user is not found when processing the leaderboard, skip only that user rather than exiting the function. (DIS-850) (*AB*)
- Alter the use of aria-labels in the Your Campaigns area so that they do not prevent translation mode from working as it should. (DIS-822) (*AB*)
- Correct the spacing of the description for User Age Ranges in Campaigns. (DIS-813) (*AB*)
- Removed the restriction for displaying reward images so that physical rewards can also display images in the 'Your Campaign' section. (DIS-796) (*AB*)
- Corrected how the user date of birth is called for the Dashboard. (DIS-862) (*AB*)

### Koha Updates
- Added an option to set the display name to preferred name and last initial where the user has a preferred name in Koha (DIS-249) (*AB*)
- Added an option to set the first name used in Aspen to the Preferred Name set by a patron in Koha (DIS-249) (*AB*)
- Added the ability to update a preferred name in Koha when updated in contact details in Aspen (DIS-249) (*AB*)

### Other Updates
- Added the side loaded record id as a query parameter to ensure it also works for ids that contain a forward slash. (DIS-597) (*AB*)
- Set award reward automatically to false by default so that physical rewards have this status set to false. (DIS-860) (*AB*)

// chloe
### Koha Updates
- Add a warning to login error messages informing users that their account will be locked after a failed amount of unsuccessful login attempts. (DIS-814) (*CZ*)

// jacob

// nick
### Other Updates
- Add series_indexer to IntelliJ project

// lucas

### Docker Updates
- Now the permissions on the key files, necessary to use the tunnel script, are more restrictive. (DIS-779) (*LM*)
- Add a data-alias configuration to handle directories outside DocumentRoot in Apache. (DIS-777) (*LM*)

### Koha Updates
- Ensure that users with frozen accounts in Koha are unable to place holds in Aspen. (DIS-599) (*LM*) 
- Ensure that users with expired accounts in Koha are unable to place holds, place ILL requests or renew items in Aspen. (DIS-551) (*LM*)
- Fix an issue that caused users to not be able to do material requests. (DIS-914) (*LM*)
- Prevent users from logging in if their cards are expired, and the option "Prevent Login for Expired Cards" is enabled. (DIS-825) (*LM*)

## This release includes code contributions from
### ByWater Solutions
- Leo Stoyanov (LS)
- Yanjun Li (YL)
- Imani Thomas (IT)
- Ian Walls (IW)
- Laura Escamilla (LE)
- Nick Clemens (NC)

### Grove For Libraries
- Mark Noble (MDN)
- Kirstien Kroeger (KK)
- Katherine Perdue (KP)
- Kodi Lein (KL)
- Myranda Fuentes (MAF)

### Nashville Public Library
- James Staub (JStaub)

### Open Fifth
- Alexander Blanchard (AB)
- Chloe Zermatten (CZ)
- Jacob O'Mara (JOM)

### Theke Solutions
- Lucas Montoya (LM)

## Special Testing thanks to
- Myranda Fuentes (Grove)
- Jordan Fields (Grove)
- Mark Noble (Grove)

## Special Documentation thanks to
- Myranda Fuentes (Grove)
- Jordan Fields (Grove)

## This release includes sponsored developments from
- CLEVNET Library Cooperation
- Gail Borden Public Library
- Metropolitan Library System
- SWAN Library Network
